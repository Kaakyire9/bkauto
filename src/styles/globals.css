@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS variables for BK Auto Trading color palette */
:root{
  /* Legacy aliases (map to new tokens where appropriate) */
  --color-brand: #6B667A;
  --color-brand-muted: #8A8695;
  --color-secondary: #9A1B26;
  --color-dark: #2A2F36;
  --color-deep: #1A1A1C;
  --color-neutral: #D8D5D2;
  --color-accent: #C8752A;

  /* BK Auto new design tokens */
  --brand-deep-navy: #041123;
  --brand-gold: #D4AF37;
  --brand-gold-dark: #886f1d;
  --accent-ruby: #C21E3A;
  --accent-sapphire: #1257D8;
  --accent-emerald: #0FA662;
  --accent-emerald-dark: #0c814c;
  --base-glass: rgba(6,12,23,0.86);
  --metallic-grey-purple: #6F6B78;
  --cta-cherry: #E53935;
  --cta-cherry-dark: #e32723;
  --cta-autumn: #FF7A18;
  --cta-autumn-dark: #c55400;
  --chrome-silver: #C6CDD1;
  --chrome-silver-dark: #687881;
  --focus-outline: #FFD97A;

  /* Backwards compatible alias */
  --color-gold: var(--brand-gold);
}

html, body, #__next {
  height: 100%;
  margin: 0;
  padding: 0;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
}

/* Prevent horizontal scroll globally */
html, body {
  overflow-x: hidden;
}

/* Safe area insets for devices with notches (iOS) */
:root {
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
}

/* Utility to add horizontal safe-area padding combined with existing spacing.
   Use the class `safe-area-x` on wrappers where you want content inset from device notches. */
.safe-area-x {
  padding-left: calc(var(--safe-area-inset-left) + 1rem);
  padding-right: calc(var(--safe-area-inset-right) + 1rem);
}

/* Subtle shimmer for premium headlines */
@keyframes bk-shimmer {
  0% { background-position: -150% 0; }
  100% { background-position: 150% 0; }
}

.shimmer-text {
  background-image: linear-gradient(90deg, rgba(212,175,55,0.95) 0%, rgba(212,175,55,0.45) 25%, rgba(198,205,209,0.05) 50%, rgba(212,175,55,0.45) 75%, rgba(212,175,55,0.95) 100%);
  background-size: 200% auto;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  animation: bk-shimmer 8s linear infinite;
  opacity: 0.98;
}

.shimmer-subtle {
  animation-duration: 10s;
  opacity: 0.9;
}

/* Respect user's reduced motion preference: disable shimmer */
@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }

  .shimmer-text,
  .shimmer-subtle {
    animation: none !important;
    background-position: 50% 0 !important;
    -webkit-background-clip: none !important;
    background-clip: none !important;
    color: var(--brand-gold) !important; /* fall back to solid gold text */
    opacity: 1 !important;
  }
}

/* Popover entry animations */
@keyframes popover-up {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes popover-right {
  from { opacity: 0; transform: translateX(-8px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes popover-left {
  from { opacity: 0; transform: translateX(8px); }
  to { opacity: 1; transform: translateX(0); }
}

.popover-anim-up {
  animation: popover-up 180ms cubic-bezier(.2,.9,.2,1) both;
}
.popover-anim-right {
  animation: popover-right 180ms cubic-bezier(.2,.9,.2,1) both;
}
.popover-anim-left {
  animation: popover-left 180ms cubic-bezier(.2,.9,.2,1) both;
}

@media (prefers-reduced-motion: reduce) {
  .popover-anim-up, .popover-anim-right, .popover-anim-left {
    animation: none !important;
    transition: none !important;
  }
}

@keyframes underline-in {
  from {
    width: 0;
  }
  to {
    width: 100%;
  }
}

.underline-on-hover {
  position: relative;
  display: inline-block;
}

.underline-on-hover::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 0;
  height: 1px;
  background-color: currentColor;
  transition: width 200ms ease-out;
}

.underline-on-hover:hover::after {
  width: 100%;
}
